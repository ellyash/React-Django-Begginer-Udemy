{"version":3,"sources":["api-service.js","components/movie-list.js","components/movie-details.js","components/movie-form.js","App.js","hooks/useFetch.js","reportWebVitals.js","components/auth-form.js","index.js"],"names":["API","mov_id","body","token","fetch","process","method","headers","Authorization","JSON","stringify","then","resp","json","MovieList","props","useCookies","movieClicked","movie","evt","movies","map","className","onClick","title","icon","faEdit","editClicked","faTrash","deleteMovie","id","removeClicked","catch","error","console","log","MovieDetails","mov","useState","highlighted","setHighlighted","highlightRate","high","getDetails","updateMovie","Fragment","description","faStar","avg_rating","no_of_ratings","Array","e","i","onMouseEnter","onMouseLeave","rate","stars","MovieForm","setTitle","setDescription","useEffect","isDisabled","length","htmlFor","type","placeholder","value","onChange","target","updatedMovie","disabled","createMovie","updateNewMovie","App","setMovies","selectedMovie","setSelectedMovie","editedMovie","setEditedMovie","removeToken","data","setData","loading","setLoading","setError","a","getMovies","fetchData","useFetch","window","location","href","loadMovie","faFilm","faSignOutAlt","newMovies","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Auth","username","setUsername","password","setPassword","isLoginView","setIsLoginView","setToken","loginClicked","loginUser","registerUser","Router","StrictMode","CookiesProvider","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.13f46e29.chunk.js","sourcesContent":["export default class API {\n  static updateMovie(mov_id, body, token) {\n    return fetch(`${process.env.REACT_APP_API_URL}/api/movies/${mov_id}/`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${token}`,\n      },\n      body: JSON.stringify(body),\n    }).then((resp) => resp.json());\n  }\n  static createMovie(body, token) {\n    return fetch(`${process.env.REACT_APP_API_URL}/api/movies/`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${token}`,\n      },\n      body: JSON.stringify(body),\n    }).then((resp) => resp.json());\n  }\n  static deleteMovie(mov_id, token) {\n    return fetch(`${process.env.REACT_APP_API_URL}/api/movies/${mov_id}/`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${token}`,\n      },\n    });\n  }\n  static loginUser(body) {\n    return fetch(`${process.env.REACT_APP_API_URL}/auth/`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(body),\n    }).then((resp) => resp.json());\n  }\n  static registerUser(body) {\n    return fetch(`${process.env.REACT_APP_API_URL}/api/users/`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(body),\n    }).then((resp) => resp.json());\n  }\n  static getMovies(token) {\n    return fetch(`${process.env.REACT_APP_API_URL}/api/movies/`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${token}`,\n      },\n    }).then((resp) => resp.json());\n  }\n}\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faEdit, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport API from \"../api-service\";\nimport { useCookies } from \"react-cookie\";\n\nfunction MovieList(props) {\n  const [token] = useCookies([\"login-token\"]);\n\n  const movieClicked = (movie) => (evt) => {\n    props.movieClicked(movie);\n  };\n  const editClicked = (movie) => {\n    props.editClicked(movie);\n  };\n  const removeClicked = (movie) => {\n    API.deleteMovie(movie.id, token[\"login-token\"])\n      .then(() => props.removeClicked(movie))\n      .catch((error) => console.log(error));\n  };\n\n  return (\n    <div>\n      {props.movies &&\n        props.movies.map((movie) => {\n          return (\n            <div key={movie.id} className=\"movie-item\">\n              <h2 onClick={movieClicked(movie)}>{movie.title}</h2>\n              <FontAwesomeIcon\n                icon={faEdit}\n                onClick={() => editClicked(movie)}\n              />\n              <FontAwesomeIcon\n                icon={faTrash}\n                onClick={() => removeClicked(movie)}\n              />\n            </div>\n          );\n        })}\n    </div>\n  );\n}\n\nexport default MovieList;\n","import React, { useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faStar } from \"@fortawesome/free-solid-svg-icons\";\nimport { useCookies } from \"react-cookie\";\n\nfunction MovieDetails(props) {\n  let mov = props.movie;\n\n  const [highlighted, setHighlighted] = useState(-1);\n  const [token] = useCookies([\"login-token\"]);\n\n  const highlightRate = (high) => (evt) => {\n    setHighlighted(high);\n  };\n  const rateClicked = (rate) => (evt) => {\n    fetch(`${process.env.REACT_APP_API_URL}/api/movies/${mov.id}/rate_movie/`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${token[\"login-token\"]}`,\n      },\n      body: JSON.stringify({ stars: rate + 1 }),\n    })\n      .then(() => getDetails())\n      .catch((error) => console.log(error));\n  };\n  const getDetails = () => {\n    fetch(`${process.env.REACT_APP_API_URL}/api/movies/${mov.id}/`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${token[\"login-token\"]}`,\n      },\n    })\n      .then((resp) => resp.json())\n      .then((resp) => props.updateMovie(resp))\n      .catch((error) => console.log(error));\n  };\n\n  return (\n    <React.Fragment>\n      {mov ? (\n        <div className=\"movie-details\">\n          <h1>{mov && mov.title}</h1>\n          <p>{mov && mov.description}</p>\n          <h3>Community Rating</h3>\n          <div className=\"rate-container\">\n            <FontAwesomeIcon icon={faStar} className={mov.avg_rating > 0 ? \"gold\" : \"\"} />\n            <span className=\"avg-rating\"> {mov.avg_rating}/5 </span>\n            <span className=\"no-of-ratings\">({mov.no_of_ratings})</span>\n          </div>\n          <div className=\"rate-container\">\n            <h3>Your rating</h3>\n            {[...Array(5)].map((e, i) => {\n              return (\n                <FontAwesomeIcon\n                  key={i}\n                  icon={faStar}\n                  className={highlighted > i - 1 ? \"orange\" : \"\"}\n                  onMouseEnter={highlightRate(i)}\n                  onMouseLeave={highlightRate(-1)}\n                  onClick={rateClicked(i)}\n                />\n              );\n            })}\n          </div>\n        </div>\n      ) : null}\n    </React.Fragment>\n  );\n}\n\nexport default MovieDetails;\n","import React, { useState, useEffect } from \"react\";\nimport API from \"../api-service\";\nimport { useCookies } from \"react-cookie\";\n\nfunction MovieForm(props) {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [token] = useCookies([\"login-token\"]);\n\n  useEffect(() => {\n    setTitle(props.movie.title);\n    setDescription(props.movie.description);\n  }, [props.movie]);\n\n  const updateClicked = () => {\n    API.updateMovie(\n      props.movie.id,\n      { title, description },\n      token[\"login-token\"]\n    )\n      .then((resp) => props.updatedMovie(resp))\n      .catch((error) => console.log(error));\n  };\n\n  const createClicked = () => {\n    API.createMovie({ title, description }, token[\"login-token\"])\n      .then((resp) => props.updateNewMovie(resp))\n      .catch((error) => console.log(error));\n  };\n\n  const isDisabled = title.length === 0 || description.length === 0;\n\n  return (\n    <React.Fragment>\n      {props.movie ? (\n        <div>\n          <label htmlFor=\"title\">Title</label>\n          <br />\n          <input\n            id=\"title\"\n            type=\"text\"\n            placeholder=\"Title\"\n            value={title}\n            onChange={(evt) => setTitle(evt.target.value)}\n          />\n          <br />\n          <label htmlFor=\"description\">Description</label>\n          <br />\n          <textarea\n            id=\"description\"\n            type=\"text\"\n            placeholder=\"Description\"\n            value={description}\n            onChange={(evt) => setDescription(evt.target.value)}\n          ></textarea>\n          <br />\n          {props.movie.id ? (\n            <button onClick={updateClicked} disabled={isDisabled}>\n              Update Movie\n            </button>\n          ) : (\n            <button onClick={createClicked} disabled={isDisabled}>\n              Add Movie\n            </button>\n          )}\n        </div>\n      ) : null}\n    </React.Fragment>\n  );\n}\nexport default MovieForm;\n","import \"./App.css\";\nimport React, { useState, useEffect } from \"react\";\nimport MovieList from \"./components/movie-list\";\nimport MovieDetails from \"./components/movie-details\";\nimport MovieForm from \"./components/movie-form\";\nimport { useCookies } from \"react-cookie\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faFilm, faStar, faSignOutAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { useFetch } from \"./hooks/useFetch\";\n\nfunction App() {\n  const [movies, setMovies] = useState([]);\n  const [selectedMovie, setSelectedMovie] = useState(null);\n  const [editedMovie, setEditedMovie] = useState(null);\n  const [token, setToken, removeToken] = useCookies([\"login-token\"]);\n  const [data, loading, error] = useFetch();\n\n  useEffect(() => {\n    setMovies(data);\n  }, [data]);\n\n  useEffect(() => {\n    if (!token[\"login-token\"]) window.location.href = \"/\";\n  }, [token]);\n\n  const loadMovie = (movie) => {\n    setSelectedMovie(movie);\n    setEditedMovie(null);\n  };\n  const editClicked = (movie) => {\n    setEditedMovie(movie);\n    setSelectedMovie(null);\n  };\n\n  const updatedMovie = (movie) => {\n    const newMovies = movies.map((mov) => {\n      if (mov.id === movie.id) {\n        setEditedMovie(null);\n        return movie;\n      }\n      return mov;\n    });\n    setMovies(newMovies);\n  };\n\n  const newMovie = () => {\n    setEditedMovie({ title: \"\", description: \"\" });\n    setSelectedMovie(null);\n  };\n\n  const updateNewMovie = (movie) => {\n    const newMovies = [...movies, movie];\n    setMovies(newMovies);\n  };\n\n  const removeClicked = (movie) => {\n    const newMovies = movies.filter((mov) => mov.id !== movie.id);\n    setMovies(newMovies);\n  };\n\n  const logoutUser = () => {\n    removeToken([\"login-token\"]);\n  };\n\n  if (loading) return <h2>Loading...</h2>;\n  if (error) return <h2>Error</h2>;\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>\n          <FontAwesomeIcon icon={faFilm} />{\" \"}\n          <span>\n            M<FontAwesomeIcon icon={faStar} />\n            vie Rater\n          </span>\n        </h1>\n        <FontAwesomeIcon icon={faSignOutAlt} onClick={logoutUser} />\n      </header>\n      <div className=\"layout\">\n        <div>\n          <MovieList\n            movies={movies}\n            movieClicked={loadMovie}\n            editClicked={editClicked}\n            removeClicked={removeClicked}\n          />\n          <button onClick={newMovie}>Add Movie</button>\n        </div>\n        <MovieDetails movie={selectedMovie} updateMovie={loadMovie} />\n        {editedMovie ? (\n          <MovieForm\n            movie={editedMovie}\n            updatedMovie={updatedMovie}\n            updateNewMovie={updateNewMovie}\n          />\n        ) : null}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { useState, useEffect } from \"react\";\nimport API from \"../api-service\";\nimport { useCookies } from \"react-cookie\";\n\nfunction useFetch() {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState();\n  const [token] = useCookies([\"login-token\"]);\n\n  useEffect(() => {\n    async function fetchData() {\n      setLoading(true);\n      setError();\n      const data = await API.getMovies(token[\"login-token\"]).catch(\n        (error) => setError(error)\n      );\n      setData(data);\n      setLoading(false);\n    }\n\n    fetchData();\n  }, []);\n  return [data, loading, error];\n}\nexport { useFetch };\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { useState, useEffect } from \"react\";\nimport API from \"../api-service\";\nimport { useCookies } from \"react-cookie\";\n\nfunction Auth() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isLoginView, setIsLoginView] = useState(true);\n\n  const [token, setToken] = useCookies([\"login-token\"]);\n\n  const loginClicked = () => {\n    API.loginUser({ username, password })\n      .then((resp) => setToken(\"login-token\", resp.token))\n      .catch((error) => console.log(error));\n  };\n  const registerClicked = () => {\n    API.registerUser({ username, password })\n      .then(() => loginClicked())\n      .catch((error) => console.log(error));\n  };\n\n  useEffect(() => {\n    if (token[\"login-token\"]) window.location.href = \"/movies\";\n  }, [token]);\n\n  const isDisabled = username.length === 0 || password.length === 0;\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        {isLoginView ? <h1>Login</h1> : <h1>Register</h1>}\n      </header>\n      <div className=\"login-container\">\n        <label htmlFor=\"username\">Username</label>\n        <br />\n        <input\n          id=\"username\"\n          type=\"text\"\n          placeholder=\"Username\"\n          value={username}\n          onChange={(evt) => setUsername(evt.target.value)}\n        />\n        <br />\n        <label htmlFor=\"password\">Password</label>\n        <br />\n        <input\n          id=\"password\"\n          type=\"password\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={(evt) => setPassword(evt.target.value)}\n        />\n        <br />\n        {isLoginView ? (\n          <button onClick={loginClicked} disabled={isDisabled}>\n            Log In\n          </button>\n        ) : (\n          <button onClick={registerClicked} disabled={isDisabled}>\n            Create account\n          </button>\n        )}\n\n        {isLoginView ? (\n          <p>\n            You don't have an account?\n            <span onClick={() => setIsLoginView(false)} className=\"reg-redirect\">\n              {\" \"}\n              Sign Up\n            </span>\n          </p>\n        ) : (\n          <p>\n            You already have an account?\n            <span onClick={() => setIsLoginView(true)} className=\"reg-redirect\">\n              {\" \"}\n              Sign In\n            </span>\n          </p>\n        )}\n      </div>\n    </div>\n  );\n}\nexport default Auth;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Route, BrowserRouter } from \"react-router-dom\";\nimport Auth from \"./components/auth-form\";\nimport { CookiesProvider } from \"react-cookie\";\n\nfunction Router() {\n  return (\n    <React.StrictMode>\n      <CookiesProvider>\n        <BrowserRouter>\n          <Route exact path=\"/\" component={Auth} />\n          <Route exact path=\"/movies\" component={App} />\n        </BrowserRouter>\n      </CookiesProvider>\n    </React.StrictMode>\n  );\n}\n\nReactDOM.render(<Router />, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}